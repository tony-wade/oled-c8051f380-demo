C51 COMPILER V9.60.0.0   SYSTEM_INIT                                                       07/24/2025 15:32:17 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE SYSTEM_INIT
OBJECT MODULE PLACED IN .\src\system_init.OBJ
COMPILER INVOKED BY: C:\SiliconLabs\SimplicityStudio\v5_3\developer\toolchains\keil_8051\9.60\BIN\C51.exe C:\Users\User\
                    -Desktop\OLED\F380_OLED\8473OLED\src\system_init.c OMF2 SMALL DEBUG OBJECTEXTEND ROM(LARGE) WARNINGLEVEL(2) FLOATFUZZY(3)
                    - OPTIMIZE(2,SPEED) DEFINE(DEBUG=1) INTVECTOR(0X0000) INTPROMOTE INCDIR(C:/SiliconLabs/SimplicityStudio/v5_3/developer/sd
                    -ks/8051/v4.3.1//Device/shared/si8051Base;C:/SiliconLabs/SimplicityStudio/v5_3/developer/sdks/8051/v4.3.1//Device/C8051F3
                    -80/inc) PRINT(.\src\system_init.lst) COND PAGEWIDTH(120) PAGELENGTH(65) OBJECT(.\src\system_init.OBJ)

line level    source

   1          #include "system_init.h"
   2          
   3          // ----------------------------------------------------------------------------
   4          // Port Initialization
   5          // ----------------------------------------------------------------------------
   6          void PORT_Init(void) {
   7   1          P0MDOUT |= 0x3D;    // Set P0.0~P0.5 as push-pull output, except P0.1(MISO)
   8   1          XRES = 0;
   9   1          A0 = 0;
  10   1      
  11   1          P0SKIP |= 0X30;     // 0.4, 0.5 as GPIO
  12   1      
  13   1          // Crossbar configuration, critical
  14   1          XBR0 = 0x02;        // Enable the SPI
  15   1          XBR1 = 0x40;        // Enable crossbar (allows output)
  16   1      }
  17          
  18          //-----------------------------------------------------------------------------
  19          // SPI0 Initialization
  20          //-----------------------------------------------------------------------------
  21          void SPI0_Init()
  22          {
  23   1         SPI0CFG   = 0x70;                   // Enable the SPI as a Master, SCL is H in idle state, rising trigg
             -er
  24   1         SPI0CN    = 0x0D;                   // 4-wire Single Master, SPI enabled(NSS=XCS H)
  25   1      
  26   1         // SPI clock frequency equation from the data sheet
  27   1         SPI0CKR   = (12000000 / (2*SPI_CLOCK)) - 1;
  28   1      
  29   1         //IE_ESPI0 = 1;                     // Enable SPI interrupts(Since only sending for now, no need to ope
             -n)
  30   1         //IE_EA = 1;                        // Enable global interrupts (Put in main.c)
  31   1      }
  32          
  33          //-----------------------------------------------------------------------------
  34          // Oscillator Initialization
  35          //-----------------------------------------------------------------------------
  36          void OSCILLATOR_Init(void) {
  37   1          OSCICN = 0x83;   // Internal oscillator = 12 MHz
  38   1      }
  39          
  40          
  41          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     31    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
C51 COMPILER V9.60.0.0   SYSTEM_INIT                                                       07/24/2025 15:32:17 PAGE 2   

   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
